(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},43:function(e,t,c){},48:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(28),s=c.n(r),i=(c(43),c(5)),l=c(8),o=c(6),u=c.n(o),j=c(9),d=c(24);c(45),c(61),c(60);d.a.initializeApp({apiKey:"AIzaSyAP2TAqJ-DoLN9i1Ox41Ca7BMYajRrxyAg",authDomain:"retry-b4e10.firebaseapp.com",projectId:"retry-b4e10",storageBucket:"retry-b4e10.appspot.com",messagingSenderId:"533017721875",appId:"1:533017721875:web:b43d2a33f845c162de53e6"});var b=d.a,p=d.a.auth(),m=d.a.firestore(),h=d.a.storage(),O=c(11),f=(c(48),function(e){var t=Object(a.useState)(e),c=Object(i.a)(t,2),n=c[0],r=c[1];return[n,Object(a.useCallback)((function(e){r(e.target.value)}),[])]}),x=c(1);var g=function(e){var t=e.findToggle,c=e.findAction,n=e.authService,r=f(""),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(a.useCallback)((function(e){o(e.target.value)}),[o]);function b(){return(b=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""!==l&&n.sendPasswordResetEmail(l).then((function(){window.alert("\uc785\ub825\ud558\uc2e0 \uba54\uc77c\ub85c \ube44\ubc00\ubc88\ud638 \uc548\ub0b4\ub4dc\ub838\uc2b5\ub2c8\ub2e4.")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)("section",{className:"find",children:Object(x.jsxs)("div",{className:"find_wrap",children:[Object(x.jsx)("p",{children:"\ube44\ubc00\ubc88\ud638\ub97c \uc78a\uc5b4 \ubc84\ub9ac\uc168\ub098\uc694?"}),Object(x.jsxs)("form",{className:"find-form",onSubmit:function(e){return b.apply(this,arguments)},children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694.",required:!0,value:l,onChange:d}),Object(x.jsxs)("div",{className:"btn_wrap",children:[Object(x.jsx)("div",{className:"btn",onClick:function(){c(!t)},children:"\ucde8\uc18c"}),Object(x.jsx)("button",{className:"btn",children:"\uc644\ub8cc"})]})]})]})})};var v=function(e){var t,c=e.authService;function a(){return(a=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.auth.GoogleAuthProvider,e.next=3,c.signInWithPopup(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.auth.FacebookAuthProvider,e.next=3,c.signInWithPopup(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"sns_sign",children:[Object(x.jsxs)("button",{className:"sns-btn",name:"google",onClick:function(){return a.apply(this,arguments)},children:[Object(x.jsx)("img",{src:"./img/google.svg",alt:""}),Object(x.jsx)("figcaption",{class:"btn_title",children:"\uad6c\uae00\ub85c \uc2dc\uc791\ud558\uae30"})]}),Object(x.jsxs)("button",{className:"sns-btn",name:"facebook",onClick:function(){return n.apply(this,arguments)},children:[Object(x.jsx)("img",{src:"./img/facebook.svg",alt:""}),Object(x.jsx)("figcaption",{className:"btn_title",children:"\ud398\uc774\uc2a4\ubd81\uc73c\ub85c \uc2dc\uc791\ud558\uae30"})]})]})};var N=function(){var e=f(""),t=Object(i.a)(e,2),c=t[0],n=t[1],r=f(""),s=Object(i.a)(r,2),l=s[0],o=s[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),m=b[0],h=b[1],N=Object(a.useCallback)((function(e){n(e)}),[n]),w=Object(a.useCallback)((function(e){o(e)}),[o]);function y(){return(y=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.signInWithEmailAndPassword(c,l);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),"The password is invalid or the user does not have a password."===e.t0.message?window.alert("\uc554\ud638\uac00 \uc798\ubabb\ub418\uc5c8\uac70\ub098 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc554\ud638\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):"There is no user record corresponding to this identifier. The user may have been deleted."===e.t0.message?window.alert("\uc774\uba54\uc77c\uc774 \uc874\uc7ac\ud558\uc9c0\uc54a\uac70\ub098, \uc0ad\uc81c\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."):"Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later."===e.t0.message?window.alert("\ub85c\uadf8\uc778 \uc2dc\ub3c4 \uc2e4\ud328\ub85c \uc778\ud574 \uc774 \uacc4\uc815\uc5d0 \ub300\ud55c \uc561\uc138\uc2a4\uac00 \uc77c\uc2dc\uc801\uc73c\ub85c \ube44\ud65c\uc131\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc554\ud638\ub97c \uc7ac\uc124\uc815\ud558\uc5ec \uc989\uc2dc \ubcf5\uc6d0\ud558\uac70\ub098 \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):window.alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"sign_wrap",children:[Object(x.jsxs)("h1",{className:"logo",children:[Object(x.jsx)("img",{src:"./img/logo.svg",alt:""}),Object(x.jsx)("figcaption",{className:"logo_title",children:"J.log"})]}),Object(x.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},className:"sign-form",children:[Object(x.jsx)("input",{type:"text",class:"form-control",name:"id",placeholder:"\uc544\uc774\ub514",required:!0,value:c,onChange:N}),Object(x.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",required:!0,value:l,onChange:w}),Object(x.jsx)("button",{className:"btn",children:"\ub85c\uadf8\uc778"})]}),Object(x.jsx)(v,{authService:p}),Object(x.jsxs)("div",{className:"assistance",children:[Object(x.jsx)("button",{className:"pw_reset ass_btn",onClick:function(){h(!m)},children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd&\ucc3e\uae30"}),Object(x.jsx)("button",{className:"ass_auth ass_btn",children:Object(x.jsx)(O.b,{to:"/Auth",children:"\ud68c\uc6d0\uac00\uc785"})})]})]}),m?Object(x.jsx)(g,{findToggle:m,findAction:function(e){h(e)},authService:p}):null]})};c(54);var w=function(){return Object(x.jsx)("div",{})},y=c(19),_=(c(55),c(37),c(17));var S=Object(_.b)((function(e){return{receive:e.reducer2}}))((function(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],d=Object(l.e)();return Object(a.useEffect)((function(){setTimeout((function(){j(!0)}),1e3)}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:u?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:"title",children:Object(x.jsxs)(O.b,{to:"/",children:[e.receive[0].displayName,".log"]})}),Object(x.jsxs)("div",{className:"menu",onClick:function(){r(!n)},children:[Object(x.jsx)("img",{src:e.receive[0].photoURL,alt:"",className:"profile"}),Object(x.jsx)("img",{src:"./img/arrow.svg",alt:"",className:"arrow"})]})]}):"\ub85c\uadf8\uc778\uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\uc911..."}),n?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("ul",{className:"sub_menu",children:[Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/profile",children:"\uc124\uc815"})}),Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"notice",children:"\uacf5\uc9c0\uc0ac\ud56d"})}),Object(x.jsx)("li",{onClick:function(){p.signOut(),d.push("/")},children:"\ub85c\uadf8\uc544\uc6c3"})]})}):null]})}));var k=function(e){Object(l.e)();var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],r=c[1];return e.user,Object(a.useEffect)((function(){m.collection("post").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(y.a)(Object(y.a)({},e.data()),{},{id:e.id})}));r(t)}))}),[]),Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)("div",{className:"in_wrap",children:[Object(x.jsx)(S,{}),Object(x.jsx)("section",{className:"post_section",children:n.map((function(e,t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(O.b,{to:"/detail?id=".concat(e.id),style:{order:e.order},children:Object(x.jsxs)("div",{className:"post",children:[Object(x.jsx)("figure",{className:"thumbnail",children:""===e.url?Object(x.jsx)("img",{src:"./img/no-image.jpg",alt:"",height:"200px"}):Object(x.jsx)("img",{src:e.url[0],alt:""})}),Object(x.jsxs)("div",{className:"text_wrap",children:[Object(x.jsx)("p",{className:"post_title",children:e.title}),Object(x.jsx)("p",{className:"post_text",children:e.text}),Object(x.jsx)("p",{className:"post_date",children:e.date})]}),Object(x.jsxs)("div",{className:"writer_wrap",children:[Object(x.jsxs)("div",{className:"id",children:[Object(x.jsx)("img",{src:e.profile,alt:"",className:"profile"}),Object(x.jsx)("p",{className:"profile_id",children:e.user})]}),Object(x.jsxs)("p",{className:"favorite",children:["\u2764",e.favorite]})]})]})})})}))}),Object(x.jsx)("button",{className:"new-post",children:Object(x.jsx)(O.b,{to:"/upload",children:Object(x.jsx)("img",{src:"./img/add.svg",alt:""})})})]})})},C=c(20),A=(c(38),c(23));var F=Object(_.b)((function(e){return{reducer:e.reducer3}}))((function(e){var t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)([]),o=Object(i.a)(s,2),d=o[0],b=o[1],p=Object(a.useState)(""),O=Object(i.a)(p,2),f=O[0],g=O[1],v=e.user,N=[],w=new Date,_=w.getFullYear(),S=w.getMonth()+1,k=w.getDate(),F=Object(l.e)(),L=Object(a.useState)([]),D=Object(i.a)(L,2),R=D[0],E=D[1],q=Object(a.useState)([]),U=Object(i.a)(q,2),P=U[0],T=U[1],I=[];function B(){return(B=Object(j.a)(u.a.mark((function e(t){var c,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0===R.length){e.next=16;break}c=0;case 3:if(!(c<R.length)){e.next=16;break}return a=h.ref().child("".concat(v.displayName,"/").concat(P[c].name)),e.next=7,a.putString(R[c],"data_url");case 7:return r=e.sent,e.t0=N,e.next=11,r.ref.getDownloadURL();case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:c++,e.next=3;break;case 16:return s={title:n,text:f,user:v.displayName,writer:v.uid,date:"".concat(_,"\ub144").concat(S,"\uc6d4").concat(k,"\uc77c"),url:0===N.length?"":N,favorite:0,profile:v.photoURL,fileName:0===P.length?"":P.map((function(e,t){return P[t].name})),order:1e4-d.length-1},e.next=19,m.collection("post").add(s).then((function(){window.alert("\ud3ec\uc2a4\ud2b8\uac00 \uc5c5\ub85c\ub4dc \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),F.push("/")}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){m.collection("post").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(y.a)({},e.data())}));b(t)}))}),[]),Object(x.jsx)("div",{className:"upload",children:Object(x.jsxs)("form",{onSubmit:function(e){return B.apply(this,arguments)},children:[Object(x.jsx)("input",{type:"text",className:"form-control titlearea",id:"title",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:120,onChange:function(e){return r(e.target.value)}}),Object(x.jsxs)("div",{className:"textarea",children:[Object(x.jsx)(A.a,{cacheMeasurements:!0,contenteditable:"true",onHeightChange:function(e){return console.log(e)},className:"text",placeholder:"\ub2f9\uc2e0\uc758 \uc774\uc57c\uae30\ub97c \uc801\uc5b4\ubcf4\uc138\uc694.",onChange:function(e){return g(e.target.value)}}),Object(x.jsx)("figure",{children:R&&R.map((function(e,t){return Object(x.jsx)("img",{src:e,alt:"",className:"att"},t)}))})]}),Object(x.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"file-form",id:"image",onChange:function(e){var t=Array.from(e.target.files);T(t);for(var c=0;c<t.length;c++){var a=new FileReader;t&&a.readAsDataURL(t[c]),a.onload=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.push(t.target.result),c=Object(C.a)(R),e.next=4,c.push.apply(c,I);case 4:E(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}),Object(x.jsx)("label",{htmlFor:"image",className:"Attachment image-att",children:"\uc774\ubbf8\uc9c0\ub97c \ub2f4\uc544\uc8fc\uc138\uc694"}),Object(x.jsx)("p",{className:"warnning",children:"\u203b \uc774\ubbf8\uc9c0\ub97c \ud55c\ubc88\uc5d0 \uc5c5\ub85c\ub4dc \ud574\uc8fc\uc138\uc694. (\ud558\ub098\uc529X)"}),Object(x.jsxs)("div",{className:"bottom_wrap",children:[Object(x.jsx)("div",{className:"exit",onClick:function(){F.push("/")},children:"\u2190 \xa0\ub098\uac00\uae30"}),Object(x.jsx)("div",{className:"cancel_wrap",children:""!==n&&""!==f?Object(x.jsx)("button",{type:"submit",className:"post",onClick:function(){document.querySelector("#title").value="",document.querySelector(".text").value="",document.querySelector(".file-form").value=null,setTimeout((function(){E(null)}),1e3)},children:"\uae00\uc791\uc131"}):Object(x.jsx)("div",{className:"none_text post",onClick:function(){window.alert("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \ub2e4 \uc785\ub825\ud558\uc168\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694")},children:"\uae00\uc791\uc131"})})]})]})})}));c(56);var L=Object(_.b)((function(e){return{reducer:e.reducer}}))((function(e){var t,c,n=Object(a.useState)([]),r=Object(i.a)(n,2),s=r[0],o=r[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),p=b[0],O=b[1],f=new URLSearchParams(window.location.search),g=Object(a.useState)([]),v=Object(i.a)(g,2),N=v[0],w=v[1],_=Object(a.useState)(""),k=Object(i.a)(_,2),F=k[0],L=k[1],D=Object(l.e)(),R=e.user,E=R.displayName,q=new Date,U=q.getFullYear(),P=q.getMonth()+1,T=q.getDate(),I=f.get("id"),B=Object(a.useState)(""),M=Object(i.a)(B,2),W=M[0],z=M[1],J=Object(a.useState)(!1),Y=Object(i.a)(J,2),H=Y[0],Q=Y[1],X=Object(a.useState)(""),G=Object(i.a)(X,2),K=G[0],V=G[1],Z=Object(a.useState)([]),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ce=Object(a.useState)(!1),ae=Object(i.a)(ce,2);function ne(){return(ne=Object(j.a)(u.a.mark((function e(t){var c,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=window.confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"),a=m.collection("post").doc(f.get("id")),!c){e.next=9;break}return N.map((function(e,t){a.collection("reply").doc(N[t].id).delete()})),e.next=7,a.delete().then((function(){D.push("/")}));case 7:n=h.ref(),""!==W&&W.map((function(e,t){n.child("".concat(s.user,"/").concat(W[t])).delete()}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(c={replyrer:E,comment:F,date:"".concat(U,"\ub144").concat(P,"\uc6d4").concat(T,"\uc77c"),profile:R.photoURL,uids:R.uid}).comment){e.next=6;break}window.alert("\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"),e.next=8;break;case 6:return e.next=8,m.collection("post").doc(I).collection("reply").add(c).then((function(){window.alert("\ub313\uae00\uc744 \ub2ec\uc558\uc2b5\ub2c8\ub2e4."),document.querySelector(".comment_input").value=""}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){Q(!0);var t=e.target.getAttribute("data-index");Array.from(document.querySelectorAll(".reply_text")).forEach((function(e){var c=e.getAttribute("data-index");t===c&&(document.querySelector(".reply_text".concat(c)).classList.add("none"),document.querySelector(".reply_input".concat(c)).classList.add("block"))}))}function ie(e){Q(!1);var t=e.target.getAttribute("data-index");Array.from(document.querySelectorAll(".reply_input")).map((function(e,c){var a=e.getAttribute("data-index");if(t===a){document.querySelector(".reply_text".concat(c)).classList.remove("none"),document.querySelector(".reply_input".concat(c)).classList.remove("block");var n=document.querySelector(".reply_input".concat(c)).getAttribute("data-id");m.collection("post").doc(I).collection("reply").doc(n).update({comment:K})}}))}function le(e){var t=e.target.getAttribute("data-index");Array.from(document.querySelectorAll(".reply_text")).map((function(e,c){var a=e.getAttribute("data-index");if(t===a){var n=document.querySelector(".reply_text".concat(c)).getAttribute("data-id");window.confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&m.collection("post").doc(I).collection("reply").doc(n).delete()}}))}return ae[0],ae[1],Object(a.useEffect)((function(){m.collection("post").doc(f.get("id")).onSnapshot((function(e){var t=Object(y.a)({},e.data());o(t)}));var e=document.cookie;O("Cookie=done"===e),m.collection("post").doc(f.get("id")).collection("reply").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(y.a)(Object(y.a)({},e.data()),{},{id:e.id})}));w(t)}))}),[]),Object(a.useEffect)((function(){z(s.fileName);var e=Object(C.a)(ee);void 0!==s.url&&e.push.apply(e,Object(C.a)(s.url)),te(e)}),[s]),Object(a.useEffect)((function(){setTimeout((function(){var e=Array.from(document.getElementsByClassName("att")),a=document.getElementsByClassName("grid");e.map((function(a,n){c=document.getElementsByClassName("att")[n].naturalWidth,t=document.getElementsByClassName("att")[n].offsetWidth,c<t?e[n].classList.add("natural-size"):e[n].classList.add("full-size")})),e.length>1&&a[0].classList.add("grids")}),500)}),[]),Object(x.jsxs)("div",{className:"detail_wrap",children:[Object(x.jsx)(S,{}),Object(x.jsxs)("div",{className:"in_wrap",children:[Object(x.jsxs)("section",{className:"sub_header",children:[Object(x.jsx)("h1",{children:s.title}),Object(x.jsxs)("div",{className:"writer_wrap",children:[Object(x.jsxs)("div",{className:"left_wrap",children:[Object(x.jsx)("img",{src:s.profile,alt:"",className:"profile"}),Object(x.jsx)("p",{className:"writer",children:s.user}),Object(x.jsx)("p",{className:"date",children:s.date})]}),R.uid===s.writer||"Qzq3BAJaw5doQk1Xjbvvu376iRn1"===R.uid?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"right_wrap",children:[Object(x.jsx)("button",{className:"edit",onClick:function(){e.dispatch({type:"\ucffc\ub9ac\uc2a4\ud2b8\ub9c1\ubcf4\ub0b4\uae30",payload:I}),D.push("/edit")},children:"\uc218\uc815"}),Object(x.jsx)("button",{className:"delete",onClick:function(e){return ne.apply(this,arguments)},children:"\uc0ad\uc81c"})]})}):null]})]}),Object(x.jsxs)("section",{className:"content_wrap",children:[Object(x.jsx)("pre",{className:"text",children:s.text}),Object(x.jsx)("div",{className:"grid",children:ee.filter((function(e,t,c){return c.findIndex((function(t){return t===e}))===t})).map((function(e,t){return Object(x.jsx)("img",{src:e,className:"att",alt:""},t)}))}),Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsxs)("div",{className:"favorite_wrap",children:[Object(x.jsx)("p",{className:"com_title",children:"\uac8c\uc2dc\uae00\uc5d0 \ub300\ud55c \ub313\uae00\uc744 \ub2ec\uc544\uc8fc\uc138\uc694."}),Object(x.jsx)("input",{type:"checkbox",id:"favorite_check",onClick:function(e){e.target.checked&&m.collection("post").doc(f.get("id")).update({favorite:s.favorite+1}).then((function(){!function(e,t,c){var a=new Date;a.setDate(a.getDate()+c),document.cookie="".concat(e," = ").concat(escape(t),"; expires =").concat(a.toUTCString(),";")}("Cookie","done",1),O(!0)}))}}),!0!==p?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("label",{htmlFor:"favorite_check",className:"favorite_btn",children:[Object(x.jsx)("span",{children:"\ud83d\udc4d"}),"\ucd94\ucc9c\xa0",s.favorite]})}):Object(x.jsxs)("div",{className:"favorite_btn",children:[Object(x.jsx)("span",{children:"\ud83d\udc4d"}),"\ucd94\ucc9c\xa0",s.favorite]})]}),N.map((function(e,t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"reply_wrap",children:[Object(x.jsxs)("div",{className:"user_info",children:[Object(x.jsx)("img",{src:e.profile,alt:""}),Object(x.jsxs)("div",{className:"user_text",children:[Object(x.jsx)("p",{className:"reply_name",children:e.replyrer}),Object(x.jsx)("p",{className:"reply_date",children:e.date})]}),R.uid===e.uids?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"edit_comment",children:[!1===H?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"edit btns","data-index":t,onClick:se,children:"\uc218\uc815"})}):Object(x.jsx)("div",{className:"edit btns","data-index":t,onClick:ie,children:"\uc644\ub8cc"}),Object(x.jsx)("div",{className:"delete btns","data-index":t,onClick:le,children:"\uc0ad\uc81c"})]})}):null]}),Object(x.jsx)("p",{className:"reply_text reply_text".concat(t),"data-id":e.id,"data-index":t,children:e.comment}),Object(x.jsx)("input",{type:"text",className:"reply_input reply_input".concat(t," form-control"),placeholder:e.comment,"data-index":t,"data-id":e.id,onChange:function(e){return V(e.target.value)}})]})})})),Object(x.jsxs)("form",{onSubmit:function(e){return re.apply(this,arguments)},children:[Object(x.jsx)(A.a,{cacheMeasurements:!0,onHeightChange:function(e){return""},minRows:4,className:"comment_input",onChange:function(e){return L(e.target.value)}}),Object(x.jsx)("button",{className:"btn",children:"\ub313\uae00 \uc791\uc131"})]})]})]})]})]})}));c(57);var D=function(e){var t=e.user,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),O=d[0],f=d[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),N=v[0],w=v[1],y=Object(a.useState)(!1),_=Object(i.a)(y,2),k=_[0],C=_[1],A=Object(a.useState)(!1),F=Object(i.a)(A,2),L=F[0],D=F[1],R=Object(a.useState)(""),E=Object(i.a)(R,2),q=(E[0],E[1]),U=Object(a.useState)(!1),P=Object(i.a)(U,2),T=P[0],I=P[1],B="",M=p.currentUser,W=Object(l.e)();function z(){return(z=Object(j.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),D(!0),c=t.target.files[0],w(c),(a=new FileReader).onloadend=function(e){var t=e.currentTarget.result;s(t)},a.readAsDataURL(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!k),e.next=3,t.updateProfile({displayName:O}).then((function(){C(!k),window.alert("\ub2c9\ub124\uc784\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),W.push("/")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(j.a)(u.a.mark((function e(){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=h.ref().child("".concat(O,"-profileImg/").concat(N.name)),e.next=3,c.putString(r,"data_url");case 3:return a=e.sent,e.next=6,a.ref.getDownloadURL();case 6:return B=e.sent,e.next=9,t.updateProfile({photoURL:B}).then((function(){I(!1),D(!1),window.alert("\ud504\ub85c\ud544 \ubcc0\uacbd\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),W.push("/")}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){f(t.displayName),q(t.photoURL)}),[]),Object(x.jsxs)("div",{className:"profile_wrap",children:[Object(x.jsx)(S,{}),Object(x.jsxs)("section",{className:"content",children:[Object(x.jsxs)("div",{className:"profile_area",children:[Object(x.jsxs)("div",{className:"img_wrap",children:[Object(x.jsx)("input",{type:"file",accept:"image/*",id:"img_check",onChange:function(e){return z.apply(this,arguments)}}),Object(x.jsx)("figure",{className:"profileImg",children:T?Object(x.jsx)("img",{src:r,width:"130px",height:"135px"}):Object(x.jsx)("img",{src:t.photoURL,width:"130px",height:"135px"})}),L?Object(x.jsx)("div",{className:"uploads btn",onClick:function(){return Y.apply(this,arguments)},children:"\ubc14\uafb8\uae30 \uc644\ub8cc"}):Object(x.jsx)("label",{htmlFor:"img_check",className:"uploads btn",children:"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc"})]}),Object(x.jsxs)("div",{className:"name_area",children:[k?Object(x.jsx)("input",{type:"text",value:O,className:"form-control",onChange:function(e){return f(e.target.value)}}):Object(x.jsx)("b",{className:"nickname",children:t.displayName}),k?Object(x.jsx)("button",{className:"btn comment_btn",onClick:function(){return J.apply(this,arguments)},children:"\uc218\uc815\uc644\ub8cc"}):Object(x.jsx)("button",{className:"btn comment_btn",onClick:function(){C(!0)},children:"\ub2c9\ub124\uc784 \uc218\uc815"})]})]}),Object(x.jsxs)("div",{className:"suggest",children:[Object(x.jsx)("p",{className:"suggest_title",children:"\ubb38\uc758\uc0ac\ud56d"}),Object(x.jsx)("p",{className:"director_email",children:"rlawlgh388@naver.com"})]}),Object(x.jsxs)("div",{className:"withdrawal",children:[Object(x.jsxs)("div",{className:"delete_wrap",children:[Object(x.jsx)("p",{className:"withdrawal_title",children:"\ud68c\uc6d0 \ud0c8\ud1f4"}),Object(x.jsx)("button",{className:"btn",onClick:function(){var e=window.prompt("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694");m.collection("delete").doc("".concat(t.displayName)).set({"\uc0c1\ud0dc":"\ud0c8\ud1f4"});var c=b.auth.EmailAuthProvider.credential(t.email,e);M.reauthenticateWithCredential(c).then((function(){M.delete().then((function(){window.alert("\ud68c\uc6d0\ud0c8\ud1f4 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p.signOut(),W.push("/")}))}))},children:"\ud68c\uc6d0 \ud0c8\ud1f4"})]}),Object(x.jsx)("p",{className:"explan",children:"\ud0c8\ud1f4 \uc2dc \uc791\uc131\ud55c \ud3ec\uc2a4\ud2b8 \ubc0f \ub313\uae00\uc774 \ubaa8\ub450 \uc0ad\uc81c\ub418\uba70 \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})]})]})]})};var R=Object(_.b)((function(e){return{reducer:e.reducer}}))((function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),d=o[0],b=o[1],p=Object(a.useState)(""),O=Object(i.a)(p,2),f=O[0],g=O[1],v=e.user,N=Object(l.e)(),w=e.reducer[0],_=Object(a.useState)([]),S=Object(i.a)(_,2),k=S[0],F=S[1],L=Object(a.useState)([]),D=Object(i.a)(L,2),R=D[0],E=D[1],q=Object(a.useState)([]),U=Object(i.a)(q,2),P=U[0],T=U[1],I=Object(a.useState)([]),B=Object(i.a)(I,2),M=B[0],W=B[1],z=Object(a.useState)(!1),J=Object(i.a)(z,2),Y=J[0],H=J[1],Q=[],X=[];function G(){return(G=Object(j.a)(u.a.mark((function e(t){var c,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0===k.length){e.next=16;break}c=0;case 3:if(!(c<k.length)){e.next=16;break}return a=h.ref().child("".concat(v.displayName,"/").concat(R[c].name)),e.next=7,a.putString(k[c],"data_url");case 7:return r=e.sent,e.t0=X,e.next=11,r.ref.getDownloadURL();case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:c++,e.next=3;break;case 16:return s={title:d,text:f,url:!1===Y?M:X,fileName:!1===Y?P:R.map((function(e,t){return R[t].name}))},e.next=19,m.doc("post/".concat(w)).update(s).then((function(){if(!1===Y)window.alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),N.push("/detail?id=".concat(w));else{var e=h.ref();P.map((function(t,c){e.child("".concat(n.user,"/").concat(P[c])).delete()})),window.alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),N.push("/detail?id=".concat(w))}}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){m.collection("post").doc("".concat(w)).onSnapshot((function(e){var t=Object(y.a)({},e.data());r(t)}))}),[]),Object(a.useEffect)((function(){b(n.title),g(n.text),T(n.fileName);var e=Object(C.a)(M);void 0!==n.url&&e.push.apply(e,Object(C.a)(n.url)),W(e)}),[n]),Object(x.jsx)("div",{className:"upload",children:Object(x.jsxs)("form",{onSubmit:function(e){return G.apply(this,arguments)},children:[Object(x.jsx)("input",{type:"text",className:"form-control titlearea",id:"title",value:d,maxLength:120,onChange:function(e){return b(e.target.value)}}),Object(x.jsxs)("div",{className:"textarea",children:[Object(x.jsx)(A.a,{cacheMeasurements:!0,onHeightChange:function(e){return console.log(e)},className:"text",value:f,onChange:function(e){return g(e.target.value)}}),Object(x.jsx)("figure",{children:!1===Y?Object(x.jsx)(x.Fragment,{children:M.map((function(e,t){return Object(x.jsx)("img",{src:e,alt:"",className:"att"},t)}))}):Object(x.jsx)(x.Fragment,{children:k.map((function(e,t){return Object(x.jsx)("img",{src:e,alt:"",className:"att"},t)}))})})]}),Object(x.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"file-form",id:"image",onChange:function(e){H(!0);var t=Array.from(e.target.files);E(t);for(var c=0;c<t.length;c++){var a=new FileReader;t&&a.readAsDataURL(t[c]),a.onload=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.push(t.target.result),c=Object(C.a)(k),e.next=4,c.push.apply(c,Q);case 4:F(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}),Object(x.jsx)("label",{htmlFor:"image",className:"Attachment image-att",children:"\uc774\ubbf8\uc9c0\ub97c \ub2f4\uc544\uc8fc\uc138\uc694"}),Object(x.jsx)("p",{className:"warnning",children:"\u203b \uc774\ubbf8\uc9c0\ub97c \ud55c\ubc88\uc5d0 \uc5c5\ub85c\ub4dc \ud574\uc8fc\uc138\uc694. (\ud558\ub098\uc529x)"}),Object(x.jsxs)("div",{className:"bottom_wrap",children:[Object(x.jsx)("div",{className:"exit",onClick:function(){N.push("/detail?id=".concat(w))},children:"\u2190 \xa0\ub098\uac00\uae30"}),Object(x.jsx)("div",{className:"cancel_wrap",children:Object(x.jsx)("button",{type:"submit",className:"post",children:"\uae00\uc791\uc131"})})]})]})})}));c(58);var E=function(){var e=new Date,t=(e.getFullYear(),e.getMonth(),e.getDate(),[{title:"\uc88b\uc544\uc694 \uae30\ub2a5\uc548\ub0b4",text:"\uc88b\uc544\uc694 \uae30\ub2a5\uc740 \ubb34\ubd84\ubcc4\ud55c \uc88b\uc544\uc694\ub97c \ubc29\uc9c0\ud558\uace0\uc790 \ud558\ub8e8\uc5d0 \ud55c\ubc88\ub9cc \ub204\ub97c \uc218 \uc788\uac8c \uc81c\uc791\ud558\uc600\uc2b5\ub2c8\ub2e4."},{title:"\ub2c9\ub124\uc784 \ubcc0\uacbd \uae30\ub2a5\uc548\ub0b4",text:"\ub2c9\ub124\uc784 \ubcc0\uacbd \uc2dc \uc774\uc804\uc5d0 \uc791\uc131\ud558\uc2e0 \uac8c\uc2dc\ubb3c\ub4e4\uc758 \uc791\uc131\uc790\ub294 \ubc14\ub00c\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},{title:"\uc0ac\uc9c4 \uc5c5\ub85c\ub4dc \uae30\ub2a5\uc548\ub0b4",text:"\uc0ac\uc9c4 \uc6a9\ub7c9\uc774 \ub9ce\uc740 \ud30c\uc77c\uc740 \uc5c5\ub85c\ub4dc\uac00 \ub290\ub9b4 \uc218 \uc788\uc73c\ub2c8 \ub418\ub3c4\ub85d \uc6a9\ub7c9\uc774 \uc791\uac8c \uc555\ucd95\ud574\uc11c \uc62c\ub824\uc8fc\uc138\uc694."},{title:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd\ubb38\uc758 \uc548\ub0b4",text:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd\uc740 \ube44\ubc00\ubc88\ud638 \ucc3e\uae30\ub97c \ud1b5\ud574 \uc774\uba54\uc77c\ub85c \uc804\uc1a1\ub418\ub294 \uba54\uc77c\uc744 \ud1b5\ud574 \ubcc0\uacbd \ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]);return Object(x.jsxs)("div",{className:"notice_wrap",children:[Object(x.jsx)(S,{}),Object(x.jsx)("section",{className:"post_area",children:t.map((function(e,c){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"in_wrap in_wrap".concat(c),children:Object(x.jsxs)("div",{className:"notice",children:[Object(x.jsx)("figure",{children:Object(x.jsx)("img",{src:"./img/default.svg",alt:""})}),Object(x.jsxs)("div",{className:"text_wrap",children:[Object(x.jsx)("p",{className:"notice_title",children:t[c].title}),Object(x.jsx)("p",{className:"notice_text",children:t[c].text}),Object(x.jsx)("div",{className:"tag",children:Object(x.jsx)("p",{className:"tag_in",children:"\uacf5\uc9c0\uc0ac\ud56d"})})]})]})})})}))})]})};var q=Object(_.b)((function(e){return{goName:e.reducer2}}))((function(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],d=Object(a.useState)(null),b=Object(i.a)(d,2),m=b[0],h=b[1];return Object(a.useEffect)((function(){p.onAuthStateChanged((function(t){t?(j(!0),h(t),e.dispatch({type:"\ud65c\ub3d9\uba85",payload2:t})):j(!1),r(!0)}))}),[]),Object(x.jsx)("div",{className:"App",children:n?u?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{exact:!0,path:"/",children:Object(x.jsx)(k,{user:m})}),Object(x.jsx)(l.a,{exact:!0,path:"/upload",children:Object(x.jsx)(F,{user:m})}),Object(x.jsx)(l.a,{exact:!0,path:"/detail",children:Object(x.jsx)(L,{user:m})}),Object(x.jsx)(l.a,{exact:!0,path:"/profile",children:Object(x.jsx)(D,{user:m})}),Object(x.jsx)(l.a,{exact:!0,path:"/edit",children:Object(x.jsx)(R,{user:m})}),Object(x.jsx)(l.a,{exact:!0,path:"/notice",children:Object(x.jsx)(E,{})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{exact:!0,path:"/",children:Object(x.jsx)(N,{})}),Object(x.jsx)(l.a,{exact:!0,path:"/Auth",children:Object(x.jsx)(w,{})})]}):""})})),U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},P=c(36),T=[],I=[];var B=Object(P.b)(Object(P.a)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;if("\ucffc\ub9ac\uc2a4\ud2b8\ub9c1\ubcf4\ub0b4\uae30"===t.type){var c=[].concat(T);return c.push(t.payload),c}return e},reducer2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;if("\ud65c\ub3d9\uba85"===t.type){var c=[].concat(I);return c.push(t.payload2),c}return e}}));s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(O.a,{children:Object(x.jsx)(_.a,{store:B,children:Object(x.jsx)(q,{})})})}),document.getElementById("root")),U()}},[[59,1,2]]]);
//# sourceMappingURL=main.14b600cb.chunk.js.map